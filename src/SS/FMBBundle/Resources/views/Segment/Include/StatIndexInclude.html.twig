{% set tailleSegment = segment.getLongeur %}
{% set totaleplace =0 %}
{% set totalelanterne =0 %}
{% set totalecorde =0 %}
    {% for flotteur in segment.flotteurs %}
        {% for emplacement in flotteur.emplacements %}
            {% if emplacement.stockscorde == null and emplacement.stockslanterne == null %}
                {% set totaleplace = totaleplace + 1 %}
            {% elseif emplacement.stockscorde != null %}
                {% set totaleplace = totaleplace + 1 %}
                {% set totalecorde = totalecorde + 1 %}
            {% elseif emplacement.stockslanterne != null %}
                {% set totaleplace = totaleplace + 1 %}
                {% set totalelanterne =totalelanterne + 1 %}
            {% endif %}
        {% endfor %}
    {% endfor %}
<table border="1" valign="top" class="table table-striped m-0">
    <thead>
    <tr>
        <th>
            taille
        </th>
        <th>
            nombre de place totale
        </th>
        <th>
            nombre de place vide
        </th>
        <th>
            nombre de place remplis
        </th>
        <th>
            nombre des corde
        </th>
        <th>
            nombre des lanterne
        </th>
    </tr>
    </thead>
    <tbody>
    <tr>
        <td> {{ tailleSegment }} m</td>
        <td> {{ totaleplace }}place</td>
        <td>{{ (totaleplace -(totalecorde + totalelanterne)) }}place
            || {{ (((totaleplace -(totalecorde + totalelanterne))/totaleplace ) *100)|number_format }}%
        </td>
        <td>{{ totaleplace - (totaleplace -(totalecorde + totalelanterne)) }} place
            || {{ ((((totaleplace -(totaleplace -(totalecorde + totalelanterne))))/totaleplace )*100 )|number_format }}%
        </td>
        <td>{{ totalecorde }}</td>

        <td>{{ totalelanterne }}</td>
    </tr>
    </tbody>
</table>